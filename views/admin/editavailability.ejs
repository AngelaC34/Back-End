<div class="container-fluid pt-4 px-4">
    <div class="row g-4">
        <div class="col-sm-12 col-xl-4">
            <div class="bg-light rounded p-4">
                <h3>Edit Attraction</h3>
                <form action="/postRoutes/update-attraction/<%= data._id %>" method="POST">
                    <div class="mb-3">
                        <label for="title" class="form-label">Name:</label>
                        <%= data.title %>
                    </div>
                    <div class="mb-3">
                        <label for="ticketPrice" class="form-label">Ticket Price:</label>
                        <input type="number" id="ticketPrice" name="ticketPrice" class="form-control" value="<%= data.ticketPrice %>" min="0" step="0.01" required>
                    </div>
                    <div class="mb-3">
                        <label for="ticketQuantity" class="form-label">Ticket Quantity:</label>
                        <input type="number" id="ticketQuantity" name="ticketQuantity" class="form-control" value="<%= data.ticketQuantity %>" min="0" required>
                    </div>
                    <button type="submit" class="btn btn-primary">Update Attraction</button>
                </form>
                <form action="/postRoutes/delete-post/<%= data._id %>?_method=DELETE" method="POST">
                    <button type="submit" class="btn btn-danger mt-3">Delete Attraction</button>
                </form>
            </div>
        </div>
        <div class="col-sm-12 col-xl-4">
            <div class="bg-light rounded p-4">
                <h3>Availability</h3>
                <ul>
                    <% data.availableTickets.forEach(ticket => { %>
                        <li>Date: <%= ticket.date %>, Quantity: <%= ticket.quantity %>
                            <form action="/postRoutes/delete-availability/<%= data._id %>/<%= ticket._id %>?_method=DELETE" method="POST" class="ms-2">
                                <button type="submit" class="btn btn-danger btn-sm">Delete</button>
                            </form>
                        </li>
                    <% }) %>
                </ul>
            </div>
        </div>
    </div>
    <br>
    <% if (typeof messages !== 'undefined') { %>
        <% if (messages.error) { %>
            <div class="alert alert-danger" role="alert">
                <%= messages.error %>
            </div>
        <% } %>
        <% if (messages.success) { %>
            <div class="alert alert-success" role="alert">
                <%= messages.success %>
            </div>
        <% } %>
    <% } %>
</div>
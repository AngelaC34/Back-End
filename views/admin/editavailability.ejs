<div class="container-fluid pt-4 px-4">
    <div class="row g-4">
        <div class="col-sm-12 col-xl-4">
            <div class="bg-light rounded p-4">
                <h3>Edit Attraction</h3>
                <form action="/availRoutes/update-attraction/<%= availability._id %>" method="POST">
                    <div class="mb-3">
                        <label for="name" class="form-label">Name:</label>
                        <input type="text" id="name" name="name" class="form-control" value="<%= availability.name %>" required>
                    </div>
                    <div class="mb-3">
                        <label for="ticketPrice" class="form-label">Ticket Price:</label>
                        <input type="number" id="ticketPrice" name="ticketPrice" class="form-control" value="<%= availability.ticketPrice %>" min="0" step="0.01" required>
                    </div>
                    <div class="mb-3">
                        <label for="ticketQuantity" class="form-label">Ticket Quantity:</label>
                        <input type="number" id="ticketQuantity" name="ticketQuantity" class="form-control" value="<%= availability.ticketQuantity %>" min="0" required>
                    </div>
                    <button type="submit" class="btn btn-primary">Update Attraction</button>
                </form>
                <form action="/availRoutes/delete-attraction/<%= availability._id %>?_method=DELETE" method="POST">
                    <button type="submit" class="btn btn-danger mt-3">Delete Attraction</button>
                </form>
            </div>
        </div>
        <div class="col-sm-12 col-xl-4">
            <div class="bg-light rounded p-4">
                <h3>Availability</h3>
                <ul>
                    <% availability.availableTickets.forEach(ticket => { %>
                        <li>Date: <%= ticket.date %>, Quantity: <%= ticket.quantity %>
                            <form action="/availRoutes/delete-availability/<%= availability._id %>/<%= ticket._id %>?_method=DELETE" method="POST" class="ms-2">
                                <button type="submit" class="btn btn-danger btn-sm">Delete</button>
                            </form>
                        </li>
                    <% }) %>
                </ul>
            </div>
        </div>
    </div>
</div>
<h1>Edit Attraction</h1>
<form action="/postRoutes/update-attraction/<%= availability._id %>" method="POST">
    <label for="title">Name:</label>
    <%= availability.title %><br>
    <label for="ticketPrice">Ticket Price:</label>
    <input type="text" id="ticketPrice" name="ticketPrice" value="<%= availability.ticketPrice %>"><br>
    <label for="ticketQuantity">Ticket Quantity:</label>
    <input type="text" id="ticketQuantity" name="ticketQuantity" value="<%= availability.ticketQuantity %>"><br>
    <button type="submit">Update</button>
</form>
<!-- <form action="/postRoutes/delete-attraction/<%= availability._id %>?_method=DELETE" method="POST">
    <button type="submit">Delete</button>
</form> -->

<h2>Availability</h2>
<ul>
    <% availability.availableTickets.forEach(ticket => { %>
        <li>
            Date: <%= ticket.date %>, Quantity: <%= ticket.quantity %>
            <form action="/postRoutes/delete-availability/<%= availability._id %>/<%= ticket._id %>?_method=DELETE" method="POST">
                <button type="submit">Delete</button>
            </form>
        </li>
    <% }) %>
</ul>
